## Quick orientation for AI coding agents

This repository is a small TypeScript library for DOM helpers and tiny web components. Below are the essential facts and examples to be immediately productive.

- **Big picture:** Source lives in `src/` (TypeScript). Build outputs to `lib/` (ESM JS + `.d.ts`) and a browser bundle (`lib/bundle.js`, `lib/bundle.min.js`) produced by `bundle.js` (uses `esbuild`). Docs are generated by `typedoc` into `doc/`.
- **Key entry files:** `src/index.ts` (exports the public API and default `doc` instance), `bundle.js` (esbuild bundler), `tsconfig.json`, `package.json` (exports map).

- **Build / test / dev commands** (run from repo root):
    - `npm run build` — runs `tsc`, then `node bundle.js`, then `npm run doc` (typedoc).
    - `npm run typecheck` — runs `tsc --noEmit`.
    - `npm test` — typecheck + run tests via Node with `tsx` (`node --import tsx --test`).
    - `npm run doc` — typedoc on `src/index.ts` (produces `doc/` folder).

- **Module / import conventions:**
    - The repo targets ESM (`package.json` `type: module` and `tsconfig.json` uses `NodeNext`).
    - Source `.ts` files import other modules with `.js` extensions (e.g. `import { JJD } from './JJD.js'`). Keep this pattern when editing or adding files — the TypeScript compiler is configured to emit `.js` imports that match runtime.

- **Library surface & examples:**
    - `src/index.ts` re-exports the main classes (`JJN`, `JJT`, `JJE`, `JJHE`, `JJD`, etc.) and exposes a default wrapped document (`JJD.from(document)`). Look here for how symbols are grouped.
    - Many classes follow the `JJ*` naming pattern (e.g. `JJN`, `JJHE`, `JJD`); these are small wrappers around DOM interfaces and are implemented in `src/*.ts`.

- **Patterns to follow when contributing:**
    - Keep edits to `src/` and run `npm run build` to validate outputs in `lib/` and `lib/bundle*.js`.
    - Preserve ESM-style imports with explicit `.js` when adding new TypeScript modules.
    - Use existing class patterns: small single-responsibility wrapper classes, fluent chaining, and explicit public methods (see `src/JJD.ts` and `src/JJN.ts`).

- **Tests & runtime checks:** Tests are run with Node's test runner via `tsx` (devDependency). Typical command: `npm test`. If adding tests, follow the existing pattern under `src/*.test.ts`.

- **Docs & examples:** The `www/` folder contains example UIs and small components demonstrating usage (look at `www/components/simple-counter.*` and `www/examples/*`). Use them as runnable examples when changing public APIs.

- **Integration points / external deps:**
    - Minimal runtime deps: `jty` (type checks helpers). Dev tooling includes `typescript`, `esbuild`, `typedoc`, `tsx`.
    - Bundling is performed by `bundle.js` which invokes `esbuild` to produce `lib/bundle.js` and a minified variant.

- **Common pitfalls for agents**
    - Do not change import file extensions (keep `.js` in imports inside `.ts` files).
    - Mind `package.json` exports mapping when adding new public entrypoints.
    - Tests require `tsx` and Node 18+/ESM — run `npm ci` before running tests in a fresh environment.

If anything here is unclear or you want more specific examples (e.g. editing a particular `JJ*` class or adding a new export), tell me which area and I'll expand with concrete edit & test steps.

This library is quite opinionated. Make sure to follow the instructions in ./www/tutorial/\*.md when making changes that affect coding style, error handling, or other cross-cutting concerns.
